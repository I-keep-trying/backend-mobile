{"version":3,"sources":["assets/images/ua-coa.svg","components/HeaderMobile.js"],"names":["HeaderNav","useState","value","setValue","activeItem","setActiveItem","activeSubregion","setActiveSubregion","id","region","subregions","setRegion","state","useSelector","recordsFound","weather","countries","filtered","unit","console","log","dispatch","useDispatch","useEffect","handleInput","e","preventDefault","input","target","searchCountriesByName","handleSort","key","dir","sortCountries","handleRegionClick","reg","filterCountriesByRegion","sortIcons","sortConfig","direction","Icon","name","Menu","attached","inverted","borderless","Item","header","onClick","toggleMenu","Image","alt","srcSet","flag","size","src","as","href","position","toggleUnit","Label","color","vertical","fluid","Input","icon","link","length","type","placeholder","onChange","Segment","Button","labelPosition","basic","content","Dropdown","item","text","regions","map","r","active","s","i","sub","filterCountriesBySubRegion"],"mappings":"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","file":"static/js/17.1a59e05b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/ua-coa.4f804af0.svg\";","import React, { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport {\r\n  Menu,\r\n  Icon,\r\n  Input,\r\n  Label,\r\n  Dropdown,\r\n  Button,\r\n  Segment,\r\n  Image,\r\n} from 'semantic-ui-react'\r\nimport {\r\n  toggleUnit,\r\n  toggleMenu,\r\n  searchCountriesByName,\r\n  sortCountries,\r\n  filterCountriesByRegion,\r\n  filterCountriesBySubRegion,\r\n} from '../reducers/countryReducer'\r\nimport regions from '../regions'\r\n\r\nimport '../assets/css/App.css'\r\nimport flag from '../assets/images/ua-coa.svg'\r\n\r\nconst HeaderNav = () => {\r\n  const [value, setValue] = useState('')\r\n  const [activeItem, setActiveItem] = useState('All')\r\n  const [activeSubregion, setActiveSubregion] = useState('')\r\n  const [region, setRegion] = useState({\r\n    id: 'FZUe47mEY9PCOzYmMxzYY',\r\n    region: 'All',\r\n    subregions: [],\r\n  })\r\n\r\n  const state = useSelector((state) => state)\r\n  const weather = useSelector((state) => state.weather)\r\n  //console.log('MOBILE HEADER - weather.current.temp', weather.current.temp)\r\n\r\n  const recordsFound = useSelector((state) => state.countries.filtered)\r\n\r\n  const unit = useSelector((state) => state.unit.unit)\r\nconsole.log('unit',unit)\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    if (value !== '') {\r\n      setRegion({\r\n        id: 'FZUe47mEY9PCOzYmMxzYY',\r\n        region: 'All',\r\n        subregions: [],\r\n      })\r\n    }\r\n  }, [value])\r\n\r\n  const handleInput = (e) => {\r\n    e.preventDefault()\r\n    const input = e.target.value\r\n    dispatch(searchCountriesByName(input))\r\n    setValue(input)\r\n  }\r\n\r\n  const clearInput = () => {\r\n    dispatch(searchCountriesByName(''))\r\n    setValue('')\r\n  }\r\n\r\n  const showHideMenu = () => {\r\n    dispatch(toggleMenu())\r\n  }\r\n\r\n  const changeUnit = () => {\r\n    dispatch(toggleUnit(unit))\r\n  }\r\n\r\n  const handleSort = (key, dir) => {\r\n    dispatch(sortCountries(key, dir))\r\n  }\r\n\r\n  const handleRegionClick = (reg) => {\r\n    dispatch(filterCountriesByRegion(reg.region))\r\n    setActiveItem(reg.region)\r\n    setActiveSubregion(reg.subregions[0])\r\n    setRegion(reg)\r\n    setValue('')\r\n  }\r\n\r\n  const handleSubregionClick = (sub) => {\r\n    dispatch(filterCountriesBySubRegion(sub))\r\n    setActiveSubregion(sub)\r\n    setValue('')\r\n  }\r\n\r\n  const sortIcons = (id) => {\r\n    if (\r\n      state.countries.sortConfig.direction === 'ascending' &&\r\n      state.countries.sortConfig.key === id\r\n    ) {\r\n      return <Icon name=\"caret up\" />\r\n    } else if (\r\n      state.countries.sortConfig.direction === 'descending' &&\r\n      state.countries.sortConfig.key === id\r\n    ) {\r\n      return <Icon name=\"caret down\" />\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Menu attached=\"top\" inverted borderless>\r\n        <Menu.Item id=\"app-title\" header onClick={() => showHideMenu()}>\r\n          <p> World Countries Mobile </p>\r\n        </Menu.Item>\r\n        <Menu.Item id=\"flag-menu\">\r\n          <Image\r\n            alt=\"ukraine flag\"\r\n            srcSet={`${flag} 100w`}\r\n            size=\"mini\"\r\n            src={flag}\r\n            as=\"a\"\r\n            href=\"https://theeasternborder.lv/\"\r\n          />{' '}\r\n        </Menu.Item>\r\n        <Menu.Menu position=\"right\">\r\n          <Menu.Item onClick={() => changeUnit()}>\r\n            <Label color=\"blue\">\r\n              {unit === 'metric' ? 'imperial' : 'metric'}\r\n            </Label>\r\n          </Menu.Item>\r\n        </Menu.Menu>\r\n      </Menu>\r\n\r\n      {/* text input */}\r\n      <Menu id=\"mobile-header\" inverted vertical fluid>\r\n        <Menu.Item id=\"mobile-header-item\">\r\n          <Input\r\n            inverted\r\n            size=\"mini\"\r\n            icon={\r\n              <Icon\r\n                link\r\n                name={value.length > 0 ? 'close' : 'search'}\r\n                onClick={value.length > 0 ? clearInput : handleInput}\r\n              />\r\n            }\r\n            type=\"search\"\r\n            value={value}\r\n            placeholder=\"Search by name\"\r\n            onChange={handleInput}\r\n          />\r\n        </Menu.Item>\r\n      </Menu>\r\n      <Menu id=\"mobile-header2\" inverted vertical fluid>\r\n        <Menu.Item id=\"mobile-header2-item\">\r\n          {recordsFound.length}\r\n          {recordsFound.length === 1 ? ' record found' : ' records found'}\r\n        </Menu.Item>\r\n      </Menu>\r\n\r\n      {/* sort menu */}\r\n      {recordsFound.length === 1 ? (\r\n        <>\r\n          <Segment inverted>\r\n            <Button\r\n              labelPosition=\"left\"\r\n              icon=\"left chevron\"\r\n              basic\r\n              color=\"yellow\"\r\n              fluid\r\n              content=\"All Countries\"\r\n              onClick={() => dispatch(searchCountriesByName(''))}\r\n            ></Button>\r\n          </Segment>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <Menu inverted borderless size=\"tiny\">\r\n            <Dropdown item text=\"Sort\">\r\n              <Dropdown.Menu>\r\n                <Dropdown.Item onClick={() => handleSort('name')}>\r\n                  {sortIcons('name')}\r\n                  Name\r\n                </Dropdown.Item>\r\n                <Dropdown.Item onClick={() => handleSort('capital')}>\r\n                  {sortIcons('capital')}\r\n                  Capital\r\n                </Dropdown.Item>\r\n                <Dropdown.Item onClick={() => handleSort('region')}>\r\n                  {sortIcons('region')}\r\n                  Region\r\n                </Dropdown.Item>\r\n                <Dropdown.Item onClick={() => handleSort('subregion')}>\r\n                  {sortIcons('subregion')}\r\n                  Subregion\r\n                </Dropdown.Item>\r\n                <Dropdown.Item onClick={() => handleSort('population')}>\r\n                  {sortIcons('population')}\r\n                  Population\r\n                </Dropdown.Item>\r\n                <Dropdown.Item onClick={() => handleSort('area')}>\r\n                  {sortIcons('area')}\r\n                  Area\r\n                </Dropdown.Item>\r\n              </Dropdown.Menu>\r\n            </Dropdown>\r\n            <Menu.Item position=\"right\">\r\n              Sorted by: {state.countries.sortConfig.key}\r\n              {', '}\r\n              {state.countries.sortConfig.direction}\r\n            </Menu.Item>\r\n          </Menu>\r\n          <Menu inverted borderless size=\"tiny\">\r\n            <Menu.Item position=\"left\">Filter by</Menu.Item>\r\n            <Dropdown item text={value !== '' ? 'All' : activeItem}>\r\n              <Dropdown.Menu>\r\n                {regions.map((r) =>\r\n                  value === 'All' ? (\r\n                    <Dropdown.Item\r\n                      key={r.id}\r\n                      text=\"All\"\r\n                      value=\"All\"\r\n                      active={activeItem === 'All'}\r\n                      onClick={() => handleRegionClick(r)}\r\n                    />\r\n                  ) : (\r\n                    <Dropdown.Item\r\n                      key={r.id}\r\n                      text={r.region}\r\n                      value={r.region}\r\n                      active={activeItem === r.region}\r\n                      onClick={() => handleRegionClick(r)}\r\n                    />\r\n                  )\r\n                )}\r\n              </Dropdown.Menu>\r\n            </Dropdown>\r\n          </Menu>\r\n        </>\r\n      )}\r\n\r\n      {region.region !== 'All' ? (\r\n        <Menu inverted borderless size=\"tiny\">\r\n          <Menu.Item position=\"left\">Subregion: </Menu.Item>\r\n          <Dropdown item text={activeSubregion}>\r\n            <Dropdown.Menu>\r\n              {region.subregions.map((s, i) => (\r\n                <Dropdown.Item\r\n                  key={i}\r\n                  text={s}\r\n                  value={s}\r\n                  active={activeSubregion === s}\r\n                  onClick={() => handleSubregionClick(s)}\r\n                />\r\n              ))}\r\n            </Dropdown.Menu>\r\n          </Dropdown>\r\n        </Menu>\r\n      ) : (\r\n        <></>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default HeaderNav\r\n"],"sourceRoot":""}